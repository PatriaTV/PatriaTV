(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,a,t){e.exports=t(213)},131:function(e,a,t){},213:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),c=t(10),l=t.n(c),r=(t(131),t(37)),i=t(38),s=t(42),m=t(39),u=t(43),p=t(215),d=t(20),v=t(46),h=(t(64),t(40)),g=t.n(h),E=(t(65),{disney:"Disney",marvel:"Marvel",pixar:"Pixar",starwars:"Star Wars"}),f=t(30),y=t.n(f),N=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(o)))).state={companies:E,movies:[],suggest:[]},t.handleClick=function(e,a){t.props.history.push("/".concat(e,"/").concat(a))},t.componentDidMount=function(){y.a.get("http://api.elorri.fr/disney-plus/movies").then(function(e){var a=e.data;y.a.get("http://api.elorri.fr/disney-plus/suggest").then(function(e){var n=e.data;t.setState({movies:a,suggest:n})})})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.state.movies,t=this.state.suggest,n=a.filter(function(e){return e.highlighted}).map(function(a){return o.a.createElement("div",{key:a.id,className:"highlight-item"},o.a.createElement(p.a,{cover:o.a.createElement("img",{alt:a.title,src:a.cover}),onClick:function(){return e.handleClick("movie",a.id)}}))}),c=Object.keys(E).map(function(a){return o.a.createElement(d.a,{key:a,className:"company",md:6},o.a.createElement(p.a,{cover:o.a.createElement("img",{alt:E[a],src:"".concat("","/img/companies/logo-").concat(a,".png")}),onClick:function(){return e.handleClick("company",a)}}))}),l=a.slice(0,6).map(function(a){return o.a.createElement(d.a,{key:a.id,className:"item",md:4},o.a.createElement(p.a,{cover:o.a.createElement("img",{alt:a.title,src:a.poster}),onClick:function(){return e.handleClick("movie",a.id)}}))}),r=t.slice(t.length-3).map(function(a){return o.a.createElement(d.a,{key:a.id,className:"item",md:8},o.a.createElement(p.a,{cover:o.a.createElement("img",{alt:a.title,src:a.cover}),onClick:function(){return e.handleClick("movie",a.id)}}))});return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("img",{src:g.a,className:"App-logo",alt:"logo"})),o.a.createElement("div",{className:"App-container"},n,o.a.createElement("div",{className:"companies"},o.a.createElement(v.a,{gutter:16},c)),o.a.createElement("div",{className:"new"},o.a.createElement("h2",null,"Nouveaut\xe9s"),o.a.createElement(v.a,{gutter:16},l)),o.a.createElement("div",{className:"suggestions"},o.a.createElement("h2",null,"Suggestions"),o.a.createElement(v.a,{gutter:16},r))))}}]),a}(n.Component),b=t(217),k=t(11),w=t(218),C=t(216),j=t(214),O=function(e){if(e.loading)return o.a.createElement(b.a,{active:!0});var a=e.modalVisible?"autoplay=1":"autoplay=0";return o.a.createElement("div",{className:"movie"},o.a.createElement("div",{className:"movie-poster"},o.a.createElement("img",{alt:e.movie.title,src:e.movie.poster}),o.a.createElement("div",{className:"play-wrapper",onClick:e.playMovie},o.a.createElement(k.a,{type:"play-circle",theme:"twoTone",twoToneColor:"#01b9dc"}))),o.a.createElement("div",{className:"movie-body"},o.a.createElement("h1",null,e.movie.title),o.a.createElement(w.a,{color:"#01B9DC"},e.movie.company),o.a.createElement("p",null,e.movie.description)),o.a.createElement(C.a,{visible:e.modalVisible,onCancel:e.handleCancel,footer:null,width:"100%",wrapClassName:"movie-modal"},o.a.createElement("iframe",{src:"".concat(e.movie.video,"?").concat(a,"&controls=1&showinfo=0&modestbranding=1&autohide=1"),title:e.movie.title,allow:"autoplay",frameBorder:0,allowFullScreen:!0})))},A=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(o)))).state={movie:{},loading:!0,modalVisible:!1},t.goToHome=function(){t.props.history.push("/")},t.playMovie=function(){t.setState({modalVisible:!0})},t.handleCancel=function(){var e=document.querySelector("iframe");if(console.log(e),e){var a=e.src;e.src=a}t.setState({modalVisible:!1})},t.componentDidMount=function(){var e=Number(t.props.match.params.id);y.a.get("http://api.elorri.fr/disney-plus/movie/".concat(e)).then(function(e){var a=e.data;console.log(a),t.setState({movie:a,loading:!1})})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return console.log("render"),o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},this.state.loading?o.a.createElement(j.a,null):null,o.a.createElement("img",{src:g.a,className:"App-logo",alt:"logo",onClick:function(){return e.goToHome()}})),o.a.createElement("div",{className:"App-container"},o.a.createElement(O,{loading:this.state.loading,movie:this.state.movie,modalVisible:this.state.modalVisible,playMovie:function(){return e.playMovie()},handleCancel:function(){return e.handleCancel()}})))}}]),a}(n.Component),S=function(e){return console.log(e),e.loading?o.a.createElement(b.a,{active:!0}):e.movies.map(function(e){return o.a.createElement(d.a,{key:e.id,className:"item",md:4},o.a.createElement(p.a,{cover:o.a.createElement("img",{alt:e.title,src:e.poster})}))})},M=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(o)))).state={movies:[],loading:!0},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"goToHome",value:function(){this.props.history.push("/")}},{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.id;y.a.get("http://api.elorri.fr/disney-plus/company/".concat(a)).then(function(a){var t=a.data;e.setState({movies:t,loading:!1})})}},{key:"render",value:function(){var e=this,a=this.props.match.params.id;return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},this.state.loading?o.a.createElement(j.a,null):null,o.a.createElement("img",{src:g.a,className:"App-logo",alt:"logo",onClick:function(){return e.goToHome()}})),o.a.createElement("div",{className:"App-container"},o.a.createElement("div",{className:"company-intro"},o.a.createElement("div",{className:"company-logo"},o.a.createElement("img",{alt:a,src:"".concat("","/img/companies/logo-").concat(a,".png")})),o.a.createElement("div",{className:"company-text"},o.a.createElement("span",null,"vous pr\xe9sente"),o.a.createElement("span",null,"tout son"),o.a.createElement("span",null,"catalogue"))),o.a.createElement(v.a,{gutter:16},o.a.createElement(S,{loading:this.state.loading,movies:this.state.movies,company:a}))))}}]),a}(n.Component),V=function(){return o.a.createElement("h2",{className:"notFound"},"Y'a rien ici!")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=t(122),T=t(31);l.a.render(o.a.createElement(function(){return o.a.createElement(x.a,null,o.a.createElement(T.c,null,o.a.createElement(T.a,{exact:!0,path:"/",component:N}),o.a.createElement(T.a,{path:"/company/:id",component:M}),o.a.createElement(T.a,{path:"/movie/:id",component:A}),o.a.createElement(T.a,{component:V})))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},40:function(e,a,t){e.exports=t.p+"static/media/logo.28ef2350.png"},65:function(e,a,t){}},[[126,1,2]]]);
//# sourceMappingURL=main.8166dda8.chunk.js.map